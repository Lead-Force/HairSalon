/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */

// Package
package BusinessObjects;

/**
 *
 * @author Renel/Jean
 * Hairdresser business object for Hairdresser login
 * THS System Project
 * 
 */

// Imports
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.ResultSet;
import java.sql.Statement;

// Hairdresser class
public class HairDresser {
    
    // Properties
    String HairdresserId, HairdresserUser, HairdresserPw;
    String HairdresserFname, HairdresserLname, HairdresserAddress, HairdresserPhone, HairdresserEmail;
    Boolean FullTime; 
    String TimeOff, HoursRequested, HoursGiven; 
    Double PayRate;
    
    public HairDresser(String HairdresserId, String HairdresserUser, String HairdresserPw, String HairdresserFname, String HairdresserLname, String HairdresserAddress, String HairdresserPhone, String HairdresserEmail, Boolean FullTime, String TimeOff, String HoursRequested, String HoursGiven, Double PayRate) {
        this.HairdresserId = HairdresserId;
        this.HairdresserUser = HairdresserUser;
        this.HairdresserPw = HairdresserPw;
        this.HairdresserFname = HairdresserFname;
        this.HairdresserLname = HairdresserLname;
        this.HairdresserAddress = HairdresserAddress;
        this.HairdresserPhone = HairdresserPhone;
        this.HairdresserEmail = HairdresserEmail;
        this.FullTime = FullTime;
        this.TimeOff = TimeOff;
        this.HoursRequested = HoursRequested;
        this.HoursGiven = HoursGiven;
        this.PayRate = PayRate;
    }
    
    // Constructor that passes no arguments
    public HairDresser() {
        this.HairdresserId = null;
        this.HairdresserUser = null;
        this.HairdresserPw = null;
        this.HairdresserFname = null;
        this.HairdresserLname = null;
        this.HairdresserAddress = null;
        this.HairdresserPhone = "0";
        this.HairdresserEmail = null;
        this.FullTime = false;
        this.TimeOff = null;
        this.HoursRequested = "0";
        this.HoursGiven = "0";
        this.PayRate = null;
    }
    
            // Main constructor
            public static void main(String [] args){
            // Test Instanciating a Hairdresser object
            // HairDresser c1 = new HairDresser(/*"3001", "1234", "Peter", "Frampton", "123 Main St", "pframp@gmail.com"*/);
            // h1.selectDB("2003");
            //h2.insertDB(300, 963, "Anna", "Williams", "10 Hems Mansion, Dublin", "awilliams@gcorp.co.ire");
            //h2.deleteDB();
            //display
            // h1.displayHairdresser();
            //int pwdb = c2.getHairdresserPw();
            //System.out.println("Password for user:" + pwdb );
            
            //Test Instanciating a hairDresser object
            //HairDresser hd1 = new HairDresser();
            //hd1.selectDB("2007");
            //h1.updateDB("2007","idTest","pwTsest","fname","lname","address", "404-770-6498","email@gmail.com",true,"TW",24,24,12.0);
            //hd1.deleteDB();
            //display
            //hd1.displayHairDresser();
            //hd1.displayHairDresser();
            
            //Test InstAnciating a Admin object
            HairDresser h1 = new HairDresser();
            h1.selectDB("2001");
            // h1.setHairdresserFname("Ron");
            // h1.setHairdresserLname("Weasley"); 
            // h1.setHairdresserAddress("123 Dudley Dr");
            // h1.updateDB();
            h1.displayHairdresser();
            // h1.updateDB("Harry", "Potter", "Dorsey Dr", "123", "hpotter@gmail.com");
            // h1.updateDB("Harry", "Potter", "Dorsey Dr", "123", "hpotter@gmail.com", null, "Y", "40", null, null);
            // h1.updateDB("JohnD","pwTest","fname","lname","address", "404-770-6498","email@gmail.com");
            System.out.println("Main method");
            //h1.selectDB("BenS");
            //h1.insertDB("8787", "Jessica", "Smith", "10 Hems Mansion","123-456-7789", "JS@gmail.com", "JessicaS", "Smith33");
            //h1.deleteDB("8787");
            // h1.selectDB("BenS");
            // h1.setFirstName("Jinny");
            // h1.updateDB();
            //display
            // h1.display();
            //int pwdb = c2.getAdminPw();
            //System.out.println("Password for user:" + pwdb );
        }
            
        // Display method
        public void displayHairdresser(){
            System.out.println("ID: " + HairdresserId + " User: " + HairdresserUser + " Password: " + HairdresserPw + " First Name: " + HairdresserFname + " Last Name: " + HairdresserLname + " Address: " + HairdresserAddress + " Phone Number: " + HairdresserPhone + " Email: " + HairdresserEmail + "Full Time: " + FullTime + " Time Off: " + TimeOff + " Hours Requested: " + HoursRequested + " Hours Given: " + HoursGiven + " Pay Rate: " + PayRate);   
        }
        
        // Select database method
        public void selectDB(String i) {
            
            HairdresserId = i;
            try { // Load DB Driver
                Class.forName("net.ucanaccess.jdbc.UcanaccessDriver");
                Connection c1 = DriverManager.getConnection("jdbc:ucanaccess://" +
                "C:\\Users\\Jean\\Documents\\Systems Project\\Databases\\db.accdb");
                System.out.println("Database is connected");
                
            // Execute SQL statement
            Statement stmt = c1.createStatement();
            ResultSet rs = stmt.executeQuery("Select * from Hairdresser2 where ID = " + i);
            
            // Process ResultSet
            rs.next(); 
            // HairdresserId = rs.getString(0); 
            HairdresserUser = rs.getString(2); 
            HairdresserPw = rs.getString(3); 
            HairdresserFname = rs.getString(4); 
            HairdresserLname = rs.getString(5); 
            HairdresserAddress = rs.getString(6); 
            HairdresserPhone = rs.getString(7); 
            HairdresserEmail = rs.getString(8); 
            // FullTime = rs.getBoolean(9); 
            TimeOff = rs.getString(10); 
            HoursRequested = rs.getString(11); 
            HoursGiven = rs.getString(12); 
            PayRate = rs.getDouble(13); 
            System.out.println("ResultSet Processed");
            
            // Close connection
            c1.close(); 
            System.out.println("Connection ended");
            }   catch   (Exception se) {
                System.out.println(se);
            }
    } // End selectDB()

    /*
    public void update(String user, String id, String pw) {
        String sql = "UPDATE Hairdresser2 SET ID = ? , "
                + "hdUsername = ? "
                + "WHERE hdPw = ?";
    }    
    */
        /*
        public void updateDB(String user, String pw, String fname, String lname, String address, String phone, String email) {
        */
        
        /*
        public void updateDB() {
        
        //    fname = "Harry";
        //    lname = "Potter";
        //    address = "Dorsey Dr"; 
        //    phone = "123";
        //    email = "hpotter@gmail.com"; 
       
        
        try {
            Class.forName("net.ucanaccess.jdbc.UcanaccessDriver");
            Connection c1 = DriverManager.getConnection("jdbc:ucanaccess://" +
            "C:\\Users\\Jean\\Documents\\Systems Project\\Databases\\db.accdb");
            System.out.println("Database is connected");
                
            Statement stmt = c1.createStatement();
            
            String sql = "Update Hairdresser2 set "
            + "hdUsername = '" + HairdresserUser + "'," + "hdPw = '" + HairdresserPw + "'," + "FirstName = '" + HairdresserFname + "'," + "LastName = '" + HairdresserLname + "'," + "Address ='" + HairdresserAddress + "'," +
            "PhoneNo = '" + HairdresserPhone + "'," + "Email = '" + HairdresserEmail + "'," +
            "Where ID ='" + HairdresserId + "'";
            
            System.out.println(sql);
            System.out.println("Data set");
            int n = stmt.executeUpdate(sql);
            if(n==1)
                System.out.println("UPDATE SUCCESSFUL!");
            else
                System.out.println("UPDATE FAILED!");
            c1.close();
            
        }
        catch(Exception e1){
                System.out.println(e1);
            }
    } // End updateDB()
        */
    
        
    public void updateDB() {
        
        
        try {
            Class.forName("net.ucanaccess.jdbc.UcanaccessDriver");
            Connection c1 = DriverManager.getConnection("jdbc:ucanaccess://" +
            "C:\\Users\\Jean\\Documents\\Systems Project\\Databases\\db.accdb");
            System.out.println("Database is connected");
                
            Statement stmt = c1.createStatement();
            
            String sql = "Update Hairdresser2 set FirstName = '"+getHairdresserFname()+"',"+
                                                "LastName = '"+getHairdresserLname()+"',"+
                                                "Address ='"+getHairdresserAddress()+"',"+
                                                "PhoneNo = '"+getHairdresserPhone()+"',"+
                                                "Email = '"+getHairdresserEmail()+"',"+
                    
                                                "hdPw = '"+getHairdresserPw() + "' " +
                                                "Where ID ='"+getHairdresserId()+"'";
            
            System.out.println(sql);
            System.out.println("Data set");
            int n = stmt.executeUpdate(sql);
            if(n==1)
                System.out.println("UPDATE SUCCESSFUL!");
            else
                System.out.println("UPDATE FAILED!");
            c1.close();
            
        }
        catch(Exception e1){
                System.out.println(e1);
            }
    } // End updateDB()
    
        
     /*****************************************************
     * Getters & Setters
     *****************************************************/    
        
    public void setHairdresserId(String HairdresserId) {
        this.HairdresserId = HairdresserId;
    }

    public void setHairdresserPw(String HairdresserPw) {
        this.HairdresserPw = HairdresserPw;
    }

    public void setHairdresserFname(String HairdresserFname) {
        this.HairdresserFname = HairdresserFname;
    }

    public void setHairdresserLname(String HairdresserLname) {
        this.HairdresserLname = HairdresserLname;
    }

    public void setHairdresserAddress(String HairdresserAddress) {
        this.HairdresserAddress = HairdresserAddress;
    }

    public void setHairdresserEmail(String HairdresserEmail) {
        this.HairdresserEmail = HairdresserEmail;
    }

    public void setHairdresserUser(String HairdresserUser) {
        this.HairdresserUser = HairdresserUser;
    }

    public void setHairdresserPhone(String HairdresserPhone) {
        this.HairdresserPhone = HairdresserPhone;
    }

    public void setFullTime(Boolean FullTime) {
        this.FullTime = FullTime;
    }

    public void setTimeOff(String TimeOff) {
        this.TimeOff = TimeOff;
    }

    public void setHoursRequested(String HoursRequested) {
        this.HoursRequested = HoursRequested;
    }

    public void setHoursGiven(String HoursGiven) {
        this.HoursGiven = HoursGiven;
    }

    public void setPayRate(Double PayRate) {
        this.PayRate = PayRate;
    }

    public String getHairdresserId() {
        return HairdresserId;
    }

    public String getHairdresserPw() {
        return HairdresserPw;
    }

    public String getHairdresserFname() {
        return HairdresserFname;
    }

    public String getHairdresserLname() {
        return HairdresserLname;
    }

    public String getHairdresserAddress() {
        return HairdresserAddress;
    }

    public String getHairdresserEmail() {
        return HairdresserEmail;
    }

    public String getHairdresserUser() {
        return HairdresserUser;
    }

    public String getHairdresserPhone() {
        return HairdresserPhone;
    }

    public Boolean getFullTime() {
        return FullTime;
    }

    public String getTimeOff() {
        return TimeOff;
    }

    public String getHoursRequested() {
        return HoursRequested;
    }

    public String getHoursGiven() {
        return HoursGiven;
    }

    public Double getPayRate() {
        return PayRate;
    }    
    
}
